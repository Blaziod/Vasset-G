import React, { useEffect, useState } from "react";
import { MiniChart } from "react-ts-tradingview-widgets";
import MarketOverview from "../components/cryptoWidget";
import TopGainers from "../components/topGainers";

const Dashboard = () => {
  const [isSmallScreen, setIsSmallScreen] = useState(window.innerWidth <= 768);

  useEffect(() => {
    const handleResize = () => {
      setIsSmallScreen(window.innerWidth <= 768);
    };

    window.addEventListener("resize", handleResize);
    return () => window.removeEventListener("resize", handleResize);
  }, []);
  return (
    <div
      style={{
        backgroundColor: "#F6F6F6",
        maxWidth: "100vw",
        minHeight: "100vh",
        // justifyContent: "center",
        // alignItems: "center",
        display: "flex",
        flexDirection: "column",
        paddingTop: "70px",
      }}
    >
      <div
        style={{
          backgroundColor: "rgba(110, 204, 2, 0.03)",
          justifyContent: "center",
          alignItems: "center",
          textAlign: "center",
          width: "100%",
          padding: "30px 0px",
        }}
      >
        <p
          style={{
            color: "#22242A",
            fontSize: "35px",
            fontWeight: "bolder",
            margin: 0,
          }}
        >
          WELCOME TO VASSET
        </p>
        <p style={{ color: "#707A8A", fontSize: "16px" }}>
          Enjoy hassle-free trades and a world of rewards waiting for you.
        </p>
        <button
          style={{
            width: isSmallScreen ? "100%" : "880px",
            padding: "10px",
            backgroundColor: "#0B5530",
            color: "white",
            borderRadius: "0.375rem",
            fontWeight: "500",
            border: "none",
            cursor: "pointer",
            fontSize: "16px",
            transition: "background-color 0.2s ease-in-out",
            margin: "0", // Remove margin
          }}
          onMouseEnter={(e) => (e.target.style.backgroundColor = "#00591A")}
          onMouseLeave={(e) => (e.target.style.backgroundColor = "#0B5530")}
          // onClick={handleClick}
        >
          Trade Now!
        </button>
      </div>
      <div
        style={{
          display: "flex",
          flexDirection: "column",
          alignItems: "center",
          justifyContent: "center",
          padding: "30px 15%",
        }}
      >
        <div
          style={{
            display: "flex",
            justifyContent: "center",
            alignItems: "center",
          }}
        >
          <svg
            xmlns="http://www.w3.org/2000/svg"
            width="147"
            height="19"
            viewBox="0 0 147 19"
            fill="none"
          >
            <path
              d="M14.3281 18V5.85598L9.31206 15.072H7.72806L2.68806 5.85598V18H6.10352e-05V0.95998H2.88006L8.52006 11.376L14.1601 0.95998H17.0401V18H14.3281ZM28.1823 18V16.176C27.6703 16.88 27.0223 17.4 26.2383 17.736C25.4543 18.072 24.6223 18.24 23.7423 18.24C22.9263 18.24 22.1983 18.072 21.5583 17.736C20.9183 17.384 20.4143 16.912 20.0463 16.32C19.6783 15.712 19.4943 15.04 19.4943 14.304C19.4943 13.424 19.7423 12.696 20.2383 12.12C20.7503 11.528 21.4063 11.088 22.2063 10.8C23.0223 10.496 23.8863 10.344 24.7983 10.344C25.5343 10.344 26.1823 10.408 26.7423 10.536C27.3183 10.648 27.7743 10.776 28.1103 10.92V10.056C28.1103 9.14398 27.8383 8.42398 27.2943 7.89598C26.7663 7.36798 26.0143 7.10398 25.0383 7.10398C24.3663 7.10398 23.7023 7.22398 23.0463 7.46398C22.4063 7.70398 21.7423 8.06398 21.0543 8.54398L20.2383 6.86398C20.9743 6.36798 21.7583 5.97598 22.5903 5.68798C23.4383 5.38398 24.3343 5.23198 25.2783 5.23198C27.0383 5.23198 28.3903 5.69598 29.3343 6.62398C30.2783 7.53598 30.7503 8.77598 30.7503 10.344V18H28.1823ZM27.6063 14.976C27.9423 14.672 28.1103 14.368 28.1103 14.064V12.408C27.6463 12.232 27.1583 12.096 26.6463 12C26.1503 11.904 25.6703 11.856 25.2063 11.856C24.6943 11.856 24.1903 11.936 23.6943 12.096C23.1983 12.256 22.7903 12.504 22.4703 12.84C22.1503 13.16 21.9903 13.576 21.9903 14.088C21.9903 14.744 22.2303 15.28 22.7103 15.696C23.2063 16.096 23.7903 16.296 24.4623 16.296C25.0223 16.296 25.5983 16.192 26.1903 15.984C26.7983 15.76 27.2703 15.424 27.6063 14.976ZM40.8217 7.72798C39.7977 7.75998 38.8857 7.99998 38.0857 8.44798C37.3017 8.87998 36.7417 9.50398 36.4057 10.32V18H33.7657V5.44798H36.2137V8.25598C36.6457 7.39198 37.2137 6.70398 37.9177 6.19198C38.6217 5.66398 39.3657 5.37598 40.1497 5.32798C40.2937 5.32798 40.4217 5.32798 40.5337 5.32798C40.6457 5.32798 40.7417 5.33598 40.8217 5.35198V7.72798ZM51.4782 18L47.4462 12.216L45.3822 14.184V18H42.7422V0.47998H45.3822V11.52L51.1902 5.47198H54.0222L49.1502 10.728L54.2862 18H51.4782ZM60.9224 18.24C59.6264 18.24 58.4904 17.944 57.5144 17.352C56.5384 16.76 55.7784 15.976 55.2344 15C54.6904 14.008 54.4184 12.928 54.4184 11.76C54.4184 10.576 54.6904 9.48798 55.2344 8.49598C55.7784 7.50398 56.5384 6.71198 57.5144 6.11998C58.4904 5.52798 59.6344 5.23198 60.9464 5.23198C62.2584 5.23198 63.3944 5.53598 64.3544 6.14398C65.3144 6.73598 66.0504 7.51998 66.5624 8.49598C67.0904 9.47198 67.3544 10.52 67.3544 11.64C67.3544 12.04 67.3304 12.36 67.2824 12.6H57.2264C57.2744 13.336 57.4744 13.984 57.8264 14.544C58.1944 15.088 58.6504 15.52 59.1944 15.84C59.7544 16.144 60.3624 16.296 61.0184 16.296C61.7224 16.296 62.3864 16.12 63.0104 15.768C63.6344 15.416 64.0664 14.952 64.3064 14.376L66.5624 15.024C66.1304 15.968 65.4104 16.744 64.4024 17.352C63.4104 17.944 62.2504 18.24 60.9224 18.24ZM57.1544 10.848H64.7384C64.6744 10.128 64.4664 9.49598 64.1144 8.95198C63.7624 8.39198 63.3064 7.95998 62.7464 7.65598C62.2024 7.33598 61.5944 7.17598 60.9224 7.17598C60.2664 7.17598 59.6584 7.33598 59.0984 7.65598C58.5544 7.95998 58.1064 8.39198 57.7544 8.95198C57.4024 9.49598 57.2024 10.128 57.1544 10.848ZM76.3747 17.352C76.0387 17.512 75.5747 17.696 74.9827 17.904C74.3907 18.096 73.7587 18.192 73.0867 18.192C72.2547 18.192 71.5347 17.968 70.9267 17.52C70.3347 17.072 70.0387 16.344 70.0387 15.336V7.48798H68.3827V5.44798H70.0387V1.31998H72.6787V5.44798H75.4147V7.48798H72.6787V14.496C72.7107 14.944 72.8467 15.272 73.0867 15.48C73.3427 15.672 73.6547 15.768 74.0227 15.768C74.3907 15.768 74.7427 15.704 75.0787 15.576C75.4147 15.448 75.6627 15.344 75.8227 15.264L76.3747 17.352ZM96.2463 3.33598H90.5823V18H87.8703V3.33598H82.1823V0.95998H96.2463V3.33598ZM103.658 7.72798C102.634 7.75998 101.722 7.99998 100.922 8.44798C100.138 8.87998 99.5781 9.50398 99.2421 10.32V18H96.6016V5.44798H99.0501V8.25598C99.4821 7.39198 100.05 6.70398 100.754 6.19198C101.458 5.66398 102.202 5.37598 102.986 5.32798C103.13 5.32798 103.258 5.32798 103.37 5.32798C103.482 5.32798 103.578 5.33598 103.658 5.35198V7.72798ZM111.055 18.24C109.759 18.24 108.623 17.944 107.647 17.352C106.671 16.76 105.911 15.976 105.367 15C104.823 14.008 104.551 12.928 104.551 11.76C104.551 10.576 104.823 9.48798 105.367 8.49598C105.911 7.50398 106.671 6.71198 107.647 6.11998C108.623 5.52798 109.767 5.23198 111.079 5.23198C112.391 5.23198 113.527 5.53598 114.487 6.14398C115.447 6.73598 116.183 7.51998 116.695 8.49598C117.223 9.47198 117.487 10.52 117.487 11.64C117.487 12.04 117.463 12.36 117.415 12.6H107.359C107.407 13.336 107.607 13.984 107.959 14.544C108.327 15.088 108.783 15.52 109.327 15.84C109.887 16.144 110.495 16.296 111.151 16.296C111.855 16.296 112.519 16.12 113.143 15.768C113.767 15.416 114.199 14.952 114.439 14.376L116.695 15.024C116.263 15.968 115.543 16.744 114.535 17.352C113.543 17.944 112.383 18.24 111.055 18.24ZM107.287 10.848H114.871C114.807 10.128 114.599 9.49598 114.247 8.95198C113.895 8.39198 113.439 7.95998 112.879 7.65598C112.335 7.33598 111.727 7.17598 111.055 7.17598C110.399 7.17598 109.791 7.33598 109.231 7.65598C108.687 7.95998 108.239 8.39198 107.887 8.95198C107.535 9.49598 107.335 10.128 107.287 10.848ZM130.897 18H128.257V10.968C128.257 9.78398 128.065 8.92798 127.681 8.39998C127.313 7.85598 126.761 7.58398 126.025 7.58398C125.513 7.58398 125.001 7.71198 124.489 7.96798C123.993 8.22398 123.545 8.57598 123.145 9.02398C122.745 9.47198 122.457 9.97598 122.281 10.536V18H119.641V5.44798H122.041V7.96798C122.521 7.13598 123.217 6.47198 124.129 5.97598C125.041 5.47998 126.049 5.23198 127.153 5.23198C128.145 5.23198 128.913 5.47198 129.457 5.95198C130.001 6.41598 130.377 7.03198 130.585 7.79998C130.793 8.56798 130.897 9.41598 130.897 10.344V18ZM133.169 11.736C133.169 10.536 133.409 9.44798 133.889 8.47198C134.385 7.47998 135.057 6.69598 135.905 6.11998C136.753 5.52798 137.729 5.23198 138.833 5.23198C139.793 5.23198 140.657 5.47998 141.425 5.97598C142.209 6.47198 142.817 7.08798 143.249 7.82398V0.47998H145.889V15.024C145.889 15.328 145.945 15.544 146.057 15.672C146.169 15.8 146.353 15.872 146.609 15.888V18C146.113 18.08 145.729 18.12 145.457 18.12C144.961 18.12 144.537 17.984 144.185 17.712C143.849 17.424 143.673 17.072 143.657 16.656L143.633 15.72C143.153 16.52 142.505 17.144 141.689 17.592C140.873 18.024 140.025 18.24 139.145 18.24C137.993 18.24 136.961 17.944 136.049 17.352C135.153 16.76 134.449 15.976 133.937 15C133.425 14.008 133.169 12.92 133.169 11.736ZM143.249 13.488V10.2C143.057 9.68798 142.769 9.23198 142.385 8.83198C142.001 8.41598 141.561 8.08798 141.065 7.84798C140.585 7.60798 140.105 7.48798 139.625 7.48798C138.873 7.48798 138.217 7.69598 137.657 8.11198C137.113 8.51198 136.681 9.03998 136.361 9.69598C136.057 10.352 135.905 11.048 135.905 11.784C135.905 12.552 136.073 13.256 136.409 13.896C136.761 14.536 137.233 15.048 137.825 15.432C138.417 15.8 139.081 15.984 139.817 15.984C140.265 15.984 140.729 15.88 141.209 15.672C141.705 15.448 142.137 15.152 142.505 14.784C142.873 14.4 143.121 13.968 143.249 13.488Z"
              fill="#707A8A"
            />
          </svg>
        </div>
        <div
          style={{
            paddingTop: "30px",
            display: "flex",
            justifyContent: "center",
            alignItems: "center",
            gap: "20px",
            flexWrap: isSmallScreen ? "wrap" : "nowrap",
          }}
        >
          {[
            "BINANCE:BTCUSDT",
            "BINANCE:BNBUSDT",
            "BINANCE:ETHUSDT",
            "BINANCE:SOLUSDT",
          ].map((symbol, index) => (
            <div
              key={index}
              style={{
                borderRadius: "20px",
                overflow: "hidden",
                width: "296px", // Fixed width
                height: "187px", // Match widget height
                flex: "1 1 calc(100% - 40px)", // Set to stack when width is limited
                maxWidth: "296px", // Prevent exceeding width
              }}
            >
              <MiniChart
                symbol={symbol}
                colorTheme="light"
                width="100%"
                height={187}
                dateRange="12M"
                trendLineColor="rgba(41, 98, 255, 1)"
                underLineColor="rgba(41, 98, 255, 0.3)"
                underLineBottomColor="rgba(41, 98, 255, 0)"
                isTransparent={false}
                locale="en"
              />
            </div>
          ))}
        </div>

        <div
          style={{
            width: "100%",
            alignSelf: isSmallScreen ? "center" : "flex-start",
            paddingTop: isSmallScreen ? "30px" : "100px",
            paddingBottom: isSmallScreen ? "0" : "30px",
          }}
        >
          <p
            style={{
              color: isSmallScreen ? "#5A5A5A" : "#121214",
              fontSize: "28px",
              fontWeight: "bold",
              fontFamily: "sans-serif",
              width: "100%",
              textAlign: isSmallScreen ? "center" : "left",
              margin: 0,
            }}
          >
            Market
          </p>
        </div>
        <div
          style={{
            display: "flex",
            justifyContent: "center",
            alignItems: "center",
            gap: "30px",
            flexWrap: isSmallScreen ? "wrap" : "nowrap",
            width: isSmallScreen ? "auto" : "100%",
            alignSelf: isSmallScreen ? "center" : "flex-start",
          }}
        >
          <MarketOverview />
          <TopGainers />
        </div>
      </div>
    </div>
  );
};

export default Dashboard;
